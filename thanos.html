<html>
    <head>
        <!--Reference to bootstrap-->
        <link rel="stylesheet" 
            href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" 
            integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" 
            crossorigin="anonymous">
            <meta name="viewport" />
        <style>
            body {font-family: Arial;}
                
            /* Style the tab */
            .tab {
                overflow: hidden;
                border: 1px solid #ccc;
                background-color: #f1f1f1;
            }
                
            /* Style the buttons inside the tab */
            .tab button {
                background-color: inherit;
                /*float: left;*/
                border: none;
                object-fit: contain;
                outline: none;
                cursor: pointer;
                /*padding: 14px 16px;*/
                transition: 0.3s;
                /*font-size: 17px;*/
            }

            /* POI Header Style */
            .POIHeader{
                text-align: center;
                margin-top: 5px;
            }
            /* Change background color of buttons on hover */
            .tab button:hover {
                background-color: blue;
            }
            
            /* Create an active/current tablink class */
            /*.tab button.active {
                background-color: red !important;
            }*/
                
            /* Style the tab content */
            .tabcontent {
                display: none;
                /*padding: 6px 12px;*/
                -webkit-animation: fadeEffect 1s;
                animation: fadeEffect 1s;
            }

            .nav-tabs{
                display:inline-flex;
            }
            .nav-tabs li{
                /*margin-right: 10px;*/
                list-style-type:none;
            }

            /* Fade in tabs */
            @-webkit-keyframes fadeEffect {
                from {opacity: 0;}
                to {opacity: 1;}
            }

            @keyframes fadeEffect {
                from {opacity: 0;}
                to {opacity: 1;}
            }
        </style>
    </head>
    <body onload="startUP()">
        <!--contains the entire content of each POI-->
        <div class="container" style="position:relative; height: 300px; border: 1px solid black;">
            <!--Contains the tabs at the top of each POI pop-up-->
            <div id="POI_Tabs">
                <div class="row" id="POI_Tabs_topRow">
                    <div class="col-xs-4" style="text-align:center; margin: 0%; padding: 0">
                        <button class="tablinks" style="width:100%" onclick="openAttributeTab(event, 'Energy')">Energy</button>
                    </div>
                    <div class="col-xs-4" style="text-align:center; margin: 0%; padding: 0"> 
                        <button class="tablinks" style="width:100%" onclick="openAttributeTab(event, 'Gas')">Gas</button>
                    </div>
                    <div class="col-xs-4" style="text-align:center; margin: 0%; padding: 0">
                        <button class="tablinks" style="width:100%" onclick="openAttributeTab(event, 'CO2')">CO2</button>
                    </div>
                </div>
                <div class="row" id="POI_Tabs_bottomRow">
                    <div class="col-xs-4" style="text-align:center; margin: 0%; padding: 0">
                        <button class="tablinks" style="width:100%" onclick="openAttributeTab(event, 'Temperature')">Temperature</button>
                    </div>
                    <div class="col-xs-4" style="text-align:center; margin: 0%; padding: 0"> 
                        <button class="tablinks" style="width:100%" onclick="openAttributeTab(event, 'Humidity')">Humidity</button>
                    </div>
                    <div class="col-xs-4" style="text-align:center; margin: 0%; padding: 0">
                        <button class="tablinks" style="width:100%" onclick="openAttributeTab(event, 'Waste')">Waste</button>
                    </div>
                </div>
            </div>
            
            <!--Contains the content for each of the 6 tabs-->
            <div id="POI_Attribute_Content">
                <div id="Energy" class="tabcontent" style="height:185px;">
                    <div id="EnergyMainContent">
                        <h3 class="POIHeader">Energy</h3>
                        <p>This is the Energy Tab.</p>
                    </div>
                    <!--Contains the tabs at the bottom of each POI Attribute-->
                    <div class="row" id="BottomTabs" style="width:100%; position:absolute; bottom:0;">
                        <div class="col-xs-6" style="text-align:center; margin: 0%; padding: 0">
                            <button id="EnergyAnimButton" class="tablinks" style="width:100%" onclick="switchBottomTabs(event, 'EnergyGraphButton','EnergyAnimButton')">Animated View</button>
                        </div>
                        <div class="col-xs-6" style="text-align:center; margin: 0%; padding: 0"> 
                            <button id="EnergyGraphButton" class="tablinks" style="width:100%" onclick="switchBottomTabs(event, 'EnergyAnimButton','EnergyGraphButton')">Graph View</button>
                        </div>
                    </div>
                </div>
                  
                <div id="Gas" class="tabcontent" style="height:185px">
                    <h3 class="POIHeader">Gas</h3>
                    <p>This is the Gas Tab.</p>
                    <!--Contains the tabs at the bottom of each POI Attribute-->
                    <div class="row" id="BottomTabs" style="width:100%; position:absolute; bottom:0;">
                        <div class="col-xs-6" style="text-align:center; margin: 0%; padding: 0">
                            <button id="GasAnimButton" class="tablinks" style="width:100%" onclick="switchBottomTabs(event, 'GasGraphButton','GasAnimButton')" disabled>Animated View</button>
                        </div>
                        <div class="col-xs-6" style="text-align:center; margin: 0%; padding: 0"> 
                            <button id="GasGraphButton" class="tablinks" style="width:100%" onclick="switchBottomTabs(event, 'GasAnimButton','GasGraphButton')">Graph View</button>
                        </div>
                    </div>
                </div>
                  
                <div id="CO2" class="tabcontent" style="height:185px">
                    <h3 class="POIHeader">CO2</h3>
                    <p>This is the CO2 Tab.</p>
                    <!--Contains the tabs at the bottom of each POI Attribute-->
                    <div class="row" id="BottomTabs" style="width:100%; position:absolute; bottom:0;">
                        <div class="col-xs-6" style="text-align:center; margin: 0%; padding: 0">
                            <button id="CO2AnimButton" class="tablinks" style="width:100%" onclick="switchBottomTabs(event, 'CO2GraphButton','CO2AnimButton')" disabled>Animated View</button>
                        </div>
                        <div class="col-xs-6" style="text-align:center; margin: 0%; padding: 0"> 
                            <button id="CO2GraphButton" class="tablinks" style="width:100%" onclick="switchBottomTabs(event, 'CO2AnimButton','CO2GraphButton')">Graph View</button>
                        </div>
                    </div>
                </div>
    
                <div id="Temperature" class="tabcontent" style="height:185px">
                    <h3 class="POIHeader">Temperature</h3>
                    <p>This is the Temperature Tab.</p>
                    <!--Contains the tabs at the bottom of each POI Attribute-->
                    <div class="row" id="BottomTabs" style="width:100%; position:absolute; bottom:0;">
                        <div class="col-xs-6" style="text-align:center; margin: 0%; padding: 0">
                            <button id="TemperatureAnimButton" class="tablinks" style="width:100%" onclick="switchBottomTabs(event, 'TemperatureGraphButton','TemperatureAnimButton')" disabled>Animated View</button>
                        </div>
                        <div class="col-xs-6" style="text-align:center; margin: 0%; padding: 0"> 
                            <button id="TemperatureGraphButton" class="tablinks" style="width:100%" onclick="switchBottomTabs(event, 'TemperatureAnimButton','TemperatureGraphButton')">Graph View</button>
                        </div>
                    </div>
                </div>
                      
                <div id="Humidity" class="tabcontent" style="height:185px">
                    <h3 class="POIHeader">Humidity</h3>
                    <p>This is the Humidity Tab.</p>
                    <!--Contains the tabs at the bottom of each POI Attribute-->
                    <div class="row" id="BottomTabs" style="width:100%; position:absolute; bottom:0;">
                        <div class="col-xs-6" style="text-align:center; margin: 0%; padding: 0">
                            <button id="HumidityAnimButton" class="tablinks" style="width:100%" onclick="switchBottomTabs(event, 'HumidityGraphButton','HumidityAnimButton')" disabled>Animated View</button>
                        </div>
                        <div class="col-xs-6" style="text-align:center; margin: 0%; padding: 0"> 
                            <button id="HumidityGraphButton" class="tablinks" style="width:100%" onclick="switchBottomTabs(event, 'HumidityAnimButton','HumidityGraphButton')">Graph View</button>
                        </div>
                    </div>
                </div>
                      
                <div id="Waste" class="tabcontent" style="height:185px">
                    <h3 class="POIHeader">Waste</h3>
                    <p>This is the Waste Tab.</p>
                    <!--Contains the tabs at the bottom of each POI Attribute-->
                    <div class="row" id="BottomTabs" style="width:100%; position:absolute; bottom:0;">
                        <div class="col-xs-6" style="text-align:center; margin: 0%; padding: 0">
                            <button id="WasteAnimButton" class="tablinks" style="width:100%" onclick="switchBottomTabs(event, 'WasteGraphButton','WasteAnimButton')" disabled>Animated View</button>
                        </div>
                        <div class="col-xs-6" style="text-align:center; margin: 0%; padding: 0"> 
                            <button id="WasteGraphButton" class="tablinks" style="width:100%" onclick="switchBottomTabs(event, 'WasteAnimButton','WasteGraphButton')">Graph View</button>
                        </div>
                    </div>
                </div>
            </div>

            <!--Contains the Selectors for time and date-->
            <div id="Selectors" class="row" style="width:100%; padding:0;margin:0;">
                <div class="col-xs-6">
                    <select id="TimeSelector" style="width:100%">

                    </select>
                </div>
                <div class="col-xs-6">
                    <select id="DateSelector" style="width:100%">
                        <option value="DATE1">Select...</option>
                    </select>
                </div>
                
            </div>
        </div>

        

        <!--Script below switches tabs-->
        <script>
            //function is called when the webpage is loaded
            function startUP(){
                openAttributeTab(event, 'Energy');
                switchBottomTabs(event, 'EnergyGraphButton','EnergyAnimButton');
                populateTimeSelector();
            }

            //function for top of POI tabs
            function openAttributeTab(myEvent, POIAttributeName) {
                var i, tabcontent, tablinks;
                tabcontent = document.getElementsByClassName("tabcontent");
                for (i = 0; i < tabcontent.length; i++) {
                    tabcontent[i].style.display = "none";
                }

                tablinks = document.getElementsByClassName("tablinks");
                for (i = 0; i < tablinks.length; i++) {
                    tablinks[i].className = tablinks[i].className.replace(" active", "");
                    
                    if (tablinks[i].textContent === POIAttributeName){
                        tablinks[i].style.backgroundColor = "red"
                    }
                    else{
                        tablinks[i].style.backgroundColor = "#f1f1f1";
                    }
                }
                
                document.getElementById(POIAttributeName).style.display = "block";
                myEvent.currentTarget.className += " active";
                
                var activeGraphButton = POIAttributeName + 'GraphButton';
                var activeAnimButton = POIAttributeName + 'AnimButton';
                switchBottomTabs(event, activeGraphButton,activeAnimButton);
            }
            
            //function for bottom of POI tabs
            function switchBottomTabs(myEvent, ButtonToEnable, ButtonToDisable){
                
                document.getElementById(ButtonToEnable).disabled = false;
                document.getElementById(ButtonToEnable).style.backgroundColor = "#f1f1f1";
                document.getElementById(ButtonToDisable).style.backgroundColor = "red";
                document.getElementById(ButtonToDisable).disabled = true;
            }

            //populate time selector dropdown
            function populateTimeSelector(){
                var i;
                for(i=0; i<24; i++)
                {
                    var timeOptionOnHour = document.createElement("option");
                    var timeOptionHalfHour = document.createElement("option");

                    var OnHourTimeAsString, halfHourTimeAsString;

                    if(i<10){
                        OnHourTimeAsString = "0" + i + ":00";
                        halfHourTimeAsString = "0" + i + ":30";
                    }
                    else{
                        OnHourTimeAsString = i + ":00";
                        halfHourTimeAsString = i + ":30";
                    }
                    timeOptionOnHour.value = OnHourTimeAsString;
                    timeOptionOnHour.innerHTML = OnHourTimeAsString;
                    timeOptionHalfHour.value = halfHourTimeAsString;
                    timeOptionHalfHour.innerHTML = halfHourTimeAsString;

                    TimeSelector.appendChild(timeOptionOnHour);
                    TimeSelector.appendChild(timeOptionHalfHour);
                }
            }
        </script>
    </body>
</html>